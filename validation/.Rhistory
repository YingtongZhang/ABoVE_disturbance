rm(list=ls())
## load raster packages - make sure have loaded R/3.4
library(rgdal)
library(raster)
## function to abbreviate paste
"%+%" <- function(x,y) paste(x,y,sep="")
###############################################
# read in the data
# read in the arguments
args = commandArgs(trailingOnly=T)
## check to debug
debug_flag = 1
if(debug_flag==0) {
tile = args[1]
} else {
## takes tile id without the B in front of h##v##
tile = "h04v06"
}
## destination of inputs/outputs
### these directories are all relative to /projectnb/landsat/projects/ABOVE/validation/read_val_121617
out_dir = "./out_csv/"
out_dir
dist_loc = "/projectnb/landsat/projects/users/zhangyt/bh04v06/val_dat_011318"
shp_loc = "../make_sample_110517/val_out_110517"
cur_stem = "val_B"%+%tile
cur_shp = shp_loc%+%"/"%+%cur_stem%+%".shp"
## read the shapefile
pts_df = readOGR(cur_shp,cur_stem)
## shapefile point ids
all_ids = pts_df[["id"]]
pts_df = readOGR(cur_shp,cur_stem)
#### R code to extract data for interpreted points from rasters
rm(list=ls())
## load raster packages - make sure have loaded R/3.4
library(rgdal)
library(raster)
## function to abbreviate paste
"%+%" <- function(x,y) paste(x,y,sep="")
###############################################
# read in the data
# read in the arguments
args = commandArgs(trailingOnly=T)
## check to debug
debug_flag = 1
if(debug_flag==0) {
tile = args[1]
} else {
## takes tile id without the B in front of h##v##
tile = "h04v06"
}
## destination of inputs/outputs
### these directories are all relative to /projectnb/landsat/projects/ABOVE/validation/read_val_121617
out_dir = "./out_csv/"
#dist_loc = "/projectnb/modislc/projects/C2C_change_year"
dist_loc = "../val_dat_011318"
getwd()
#### R code to extract data for interpreted points from rasters
rm(list=ls())
## load raster packages - make sure have loaded R/3.4
library(rgdal)
library(raster)
## function to abbreviate paste
"%+%" <- function(x,y) paste(x,y,sep="")
###############################################
# read in the data
# read in the arguments
args = commandArgs(trailingOnly=T)
## check to debug
debug_flag = 1
if(debug_flag==0) {
tile = args[1]
} else {
## takes tile id without the B in front of h##v##
tile = "h04v06"
}
## destination of inputs/outputs
### these directories are all relative to /projectnb/landsat/projects/ABOVE/validation/read_val_121617
out_dir = "./out_csv/"
setwd("~/codes/above/validation")
setwd("~/codes/above/validation")
#### R code to extract data for interpreted points from rasters
rm(list=ls())
## load raster packages - make sure have loaded R/3.4
library(rgdal)
library(raster)
## function to abbreviate paste
"%+%" <- function(x,y) paste(x,y,sep="")
###############################################
# read in the data
# read in the arguments
args = commandArgs(trailingOnly=T)
## check to debug
debug_flag = 1
if(debug_flag==0) {
tile = args[1]
} else {
## takes tile id without the B in front of h##v##
tile = "h04v06"
}
## destination of inputs/outputs
### these directories are all relative to /projectnb/landsat/projects/ABOVE/validation/read_val_121617
out_dir = "./out_csv/"
dist_loc = "../val_dat_121617"
shp_loc = "../make_sample_110517/val_out_110517"
## location of the shapefile
cur_stem = "val_B"%+%tile
cur_shp = shp_loc%+%"/"%+%cur_stem%+%".shp"
## read the shapefile
pts_df = readOGR(cur_shp,cur_stem)
?substr
